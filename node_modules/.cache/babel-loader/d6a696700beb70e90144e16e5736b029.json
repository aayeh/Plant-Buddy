{"ast":null,"code":"import addClass from 'dom-helpers/addClass';\nimport removeClass from 'dom-helpers/removeClass';\nimport css from 'dom-helpers/css';\nimport getScrollbarSize from 'dom-helpers/scrollbarSize';\nimport isOverflowing from './isOverflowing';\nimport { ariaHidden, hideSiblings, showSiblings } from './manageAriaHidden';\n\nfunction findIndexOf(arr, cb) {\n  var idx = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      idx = i;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n/**\n * Proper state management for containers and the modals in those containers.\n *\n * @internal Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$hideSiblingNodes = _ref.hideSiblingNodes,\n        hideSiblingNodes = _ref$hideSiblingNodes === void 0 ? true : _ref$hideSiblingNodes,\n        _ref$handleContainerO = _ref.handleContainerOverflow,\n        handleContainerOverflow = _ref$handleContainerO === void 0 ? true : _ref$handleContainerO;\n\n    this.hideSiblingNodes = void 0;\n    this.handleContainerOverflow = void 0;\n    this.modals = void 0;\n    this.containers = void 0;\n    this.data = void 0;\n    this.scrollbarSize = void 0;\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n    this.scrollbarSize = getScrollbarSize();\n  }\n\n  var _proto = ModalManager.prototype;\n\n  _proto.isContainerOverflowing = function isContainerOverflowing(modal) {\n    var data = this.data[this.containerIndexFromModal(modal)];\n    return data && data.overflowing;\n  };\n\n  _proto.containerIndexFromModal = function containerIndexFromModal(modal) {\n    return findIndexOf(this.data, function (d) {\n      return d.modals.indexOf(modal) !== -1;\n    });\n  };\n\n  _proto.setContainerStyle = function setContainerStyle(containerState, container) {\n    var style = {\n      overflow: 'hidden'\n    }; // we are only interested in the actual `style` here\n    // because we will override it\n\n    containerState.style = {\n      overflow: container.style.overflow,\n      paddingRight: container.style.paddingRight\n    };\n\n    if (containerState.overflowing) {\n      // use computed style, here to get the real padding\n      // to add our scrollbar width\n      style.paddingRight = parseInt(css(container, 'paddingRight') || '0', 10) + this.scrollbarSize + \"px\";\n    }\n\n    css(container, style);\n  };\n\n  _proto.removeContainerStyle = function removeContainerStyle(containerState, container) {\n    var style = containerState.style;\n    Object.keys(style).forEach(function (key) {\n      container.style[key] = style[key];\n    });\n  };\n\n  _proto.add = function add(modal, container, className) {\n    var modalIdx = this.modals.indexOf(modal);\n    var containerIdx = this.containers.indexOf(container);\n\n    if (modalIdx !== -1) {\n      return modalIdx;\n    }\n\n    modalIdx = this.modals.length;\n    this.modals.push(modal);\n\n    if (this.hideSiblingNodes) {\n      hideSiblings(container, modal);\n    }\n\n    if (containerIdx !== -1) {\n      this.data[containerIdx].modals.push(modal);\n      return modalIdx;\n    }\n\n    var data = {\n      modals: [modal],\n      // right now only the first modal of a container will have its classes applied\n      classes: className ? className.split(/\\s+/) : [],\n      overflowing: isOverflowing(container)\n    };\n\n    if (this.handleContainerOverflow) {\n      this.setContainerStyle(data, container);\n    }\n\n    data.classes.forEach(addClass.bind(null, container));\n    this.containers.push(container);\n    this.data.push(data);\n    return modalIdx;\n  };\n\n  _proto.remove = function remove(modal) {\n    var modalIdx = this.modals.indexOf(modal);\n\n    if (modalIdx === -1) {\n      return;\n    }\n\n    var containerIdx = this.containerIndexFromModal(modal);\n    var data = this.data[containerIdx];\n    var container = this.containers[containerIdx];\n    data.modals.splice(data.modals.indexOf(modal), 1);\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\n    // clean up the container\n\n    if (data.modals.length === 0) {\n      data.classes.forEach(removeClass.bind(null, container));\n\n      if (this.handleContainerOverflow) {\n        this.removeContainerStyle(data, container);\n      }\n\n      if (this.hideSiblingNodes) {\n        showSiblings(container, modal);\n      }\n\n      this.containers.splice(containerIdx, 1);\n      this.data.splice(containerIdx, 1);\n    } else if (this.hideSiblingNodes) {\n      // otherwise make sure the next top modal is visible to a SR\n      var _data$modals = data.modals[data.modals.length - 1],\n          backdrop = _data$modals.backdrop,\n          dialog = _data$modals.dialog;\n      ariaHidden(false, dialog);\n      ariaHidden(false, backdrop);\n    }\n  };\n\n  _proto.isTopModal = function isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  };\n\n  return ModalManager;\n}();\n\nexport default ModalManager;","map":{"version":3,"names":["addClass","removeClass","css","getScrollbarSize","isOverflowing","ariaHidden","hideSiblings","showSiblings","findIndexOf","arr","cb","idx","some","d","i","ModalManager","_temp","_ref","_ref$hideSiblingNodes","hideSiblingNodes","_ref$handleContainerO","handleContainerOverflow","modals","containers","data","scrollbarSize","_proto","prototype","isContainerOverflowing","modal","containerIndexFromModal","overflowing","indexOf","setContainerStyle","containerState","container","style","overflow","paddingRight","parseInt","removeContainerStyle","Object","keys","forEach","key","add","className","modalIdx","containerIdx","length","push","classes","split","bind","remove","splice","_data$modals","backdrop","dialog","isTopModal"],"sources":["/Users/aaronyeh/Downloads/Plant Buddy/node_modules/react-overlays/esm/ModalManager.js"],"sourcesContent":["import addClass from 'dom-helpers/addClass';\nimport removeClass from 'dom-helpers/removeClass';\nimport css from 'dom-helpers/css';\nimport getScrollbarSize from 'dom-helpers/scrollbarSize';\nimport isOverflowing from './isOverflowing';\nimport { ariaHidden, hideSiblings, showSiblings } from './manageAriaHidden';\n\nfunction findIndexOf(arr, cb) {\n  var idx = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      idx = i;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\n/**\n * Proper state management for containers and the modals in those containers.\n *\n * @internal Used by the Modal to ensure proper styling of containers.\n */\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$hideSiblingNodes = _ref.hideSiblingNodes,\n        hideSiblingNodes = _ref$hideSiblingNodes === void 0 ? true : _ref$hideSiblingNodes,\n        _ref$handleContainerO = _ref.handleContainerOverflow,\n        handleContainerOverflow = _ref$handleContainerO === void 0 ? true : _ref$handleContainerO;\n\n    this.hideSiblingNodes = void 0;\n    this.handleContainerOverflow = void 0;\n    this.modals = void 0;\n    this.containers = void 0;\n    this.data = void 0;\n    this.scrollbarSize = void 0;\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n    this.scrollbarSize = getScrollbarSize();\n  }\n\n  var _proto = ModalManager.prototype;\n\n  _proto.isContainerOverflowing = function isContainerOverflowing(modal) {\n    var data = this.data[this.containerIndexFromModal(modal)];\n    return data && data.overflowing;\n  };\n\n  _proto.containerIndexFromModal = function containerIndexFromModal(modal) {\n    return findIndexOf(this.data, function (d) {\n      return d.modals.indexOf(modal) !== -1;\n    });\n  };\n\n  _proto.setContainerStyle = function setContainerStyle(containerState, container) {\n    var style = {\n      overflow: 'hidden'\n    }; // we are only interested in the actual `style` here\n    // because we will override it\n\n    containerState.style = {\n      overflow: container.style.overflow,\n      paddingRight: container.style.paddingRight\n    };\n\n    if (containerState.overflowing) {\n      // use computed style, here to get the real padding\n      // to add our scrollbar width\n      style.paddingRight = parseInt(css(container, 'paddingRight') || '0', 10) + this.scrollbarSize + \"px\";\n    }\n\n    css(container, style);\n  };\n\n  _proto.removeContainerStyle = function removeContainerStyle(containerState, container) {\n    var style = containerState.style;\n    Object.keys(style).forEach(function (key) {\n      container.style[key] = style[key];\n    });\n  };\n\n  _proto.add = function add(modal, container, className) {\n    var modalIdx = this.modals.indexOf(modal);\n    var containerIdx = this.containers.indexOf(container);\n\n    if (modalIdx !== -1) {\n      return modalIdx;\n    }\n\n    modalIdx = this.modals.length;\n    this.modals.push(modal);\n\n    if (this.hideSiblingNodes) {\n      hideSiblings(container, modal);\n    }\n\n    if (containerIdx !== -1) {\n      this.data[containerIdx].modals.push(modal);\n      return modalIdx;\n    }\n\n    var data = {\n      modals: [modal],\n      // right now only the first modal of a container will have its classes applied\n      classes: className ? className.split(/\\s+/) : [],\n      overflowing: isOverflowing(container)\n    };\n\n    if (this.handleContainerOverflow) {\n      this.setContainerStyle(data, container);\n    }\n\n    data.classes.forEach(addClass.bind(null, container));\n    this.containers.push(container);\n    this.data.push(data);\n    return modalIdx;\n  };\n\n  _proto.remove = function remove(modal) {\n    var modalIdx = this.modals.indexOf(modal);\n\n    if (modalIdx === -1) {\n      return;\n    }\n\n    var containerIdx = this.containerIndexFromModal(modal);\n    var data = this.data[containerIdx];\n    var container = this.containers[containerIdx];\n    data.modals.splice(data.modals.indexOf(modal), 1);\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\n    // clean up the container\n\n    if (data.modals.length === 0) {\n      data.classes.forEach(removeClass.bind(null, container));\n\n      if (this.handleContainerOverflow) {\n        this.removeContainerStyle(data, container);\n      }\n\n      if (this.hideSiblingNodes) {\n        showSiblings(container, modal);\n      }\n\n      this.containers.splice(containerIdx, 1);\n      this.data.splice(containerIdx, 1);\n    } else if (this.hideSiblingNodes) {\n      // otherwise make sure the next top modal is visible to a SR\n      var _data$modals = data.modals[data.modals.length - 1],\n          backdrop = _data$modals.backdrop,\n          dialog = _data$modals.dialog;\n      ariaHidden(false, dialog);\n      ariaHidden(false, backdrop);\n    }\n  };\n\n  _proto.isTopModal = function isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  };\n\n  return ModalManager;\n}();\n\nexport default ModalManager;"],"mappings":"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"},"metadata":{},"sourceType":"module"}